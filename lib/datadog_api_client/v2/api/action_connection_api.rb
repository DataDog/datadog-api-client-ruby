=begin
#Datadog API V2 Collection

#Collection of all Datadog Public endpoints.

The version of the OpenAPI document: 1.0
Contact: support@datadoghq.com
Generated by: https://github.com/DataDog/datadog-api-client-ruby/tree/master/.generator

 Unless explicitly stated otherwise all files in this repository are licensed under the Apache-2.0 License.
 This product includes software developed at Datadog (https://www.datadoghq.com/).
 Copyright 2020-Present Datadog, Inc.

=end

require 'cgi'

module DatadogAPIClient::V2
  class ActionConnectionAPI
    attr_accessor :api_client

    def initialize(api_client = DatadogAPIClient::APIClient.default)
      @api_client = api_client
    end

    # Create a new Action Connection.
    #
    # @see #create_action_connection_with_http_info
    def create_action_connection(body, opts = {})
      data, _status_code, _headers = create_action_connection_with_http_info(body, opts)
      data
    end

    # Create a new Action Connection.
    #
    # Create a new Action Connection. This API requires a [registered application key](https://docs.datadoghq.com/api/latest/action-connection/#register-a-new-app-key).
    #
    # @param body [CreateActionConnectionRequest] 
    # @param opts [Hash] the optional parameters
    # @return [Array<(CreateActionConnectionResponse, Integer, Hash)>] CreateActionConnectionResponse data, response status code and response headers
    def create_action_connection_with_http_info(body, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.create_action_connection ...'
      end
      # verify the required parameter 'body' is set
      if @api_client.config.client_side_validation && body.nil?
        fail ArgumentError, "Missing the required parameter 'body' when calling ActionConnectionAPI.create_action_connection"
      end
      # resource path
      local_var_path = '/api/v2/actions/connections'

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body] || @api_client.object_to_http_body(body)

      # return_type
      return_type = opts[:debug_return_type] || 'CreateActionConnectionResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :create_action_connection,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Post, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#create_action_connection\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Delete an existing Action Connection.
    #
    # @see #delete_action_connection_with_http_info
    def delete_action_connection(connection_id, opts = {})
      delete_action_connection_with_http_info(connection_id, opts)
      nil
    end

    # Delete an existing Action Connection.
    #
    # Delete an existing Action Connection. This API requires a [registered application key](https://docs.datadoghq.com/api/latest/action-connection/#register-a-new-app-key). Alternatively, you can configure these permissions [in the UI](https://docs.datadoghq.com/account_management/api-app-keys/#actions-api-access).
    #
    # @param connection_id [String] The ID of the action connection
    # @param opts [Hash] the optional parameters
    # @return [Array<(nil, Integer, Hash)>] nil, response status code and response headers
    def delete_action_connection_with_http_info(connection_id, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.delete_action_connection ...'
      end
      # verify the required parameter 'connection_id' is set
      if @api_client.config.client_side_validation && connection_id.nil?
        fail ArgumentError, "Missing the required parameter 'connection_id' when calling ActionConnectionAPI.delete_action_connection"
      end
      # resource path
      local_var_path = '/api/v2/actions/connections/{connection_id}'.sub('{connection_id}', CGI.escape(connection_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type]

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :delete_action_connection,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Delete, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#delete_action_connection\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Get an existing Action Connection.
    #
    # @see #get_action_connection_with_http_info
    def get_action_connection(connection_id, opts = {})
      data, _status_code, _headers = get_action_connection_with_http_info(connection_id, opts)
      data
    end

    # Get an existing Action Connection.
    #
    # Get an existing Action Connection. This API requires a [registered application key](https://docs.datadoghq.com/api/latest/action-connection/#register-a-new-app-key).
    #
    # @param connection_id [String] The ID of the action connection
    # @param opts [Hash] the optional parameters
    # @return [Array<(GetActionConnectionResponse, Integer, Hash)>] GetActionConnectionResponse data, response status code and response headers
    def get_action_connection_with_http_info(connection_id, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.get_action_connection ...'
      end
      # verify the required parameter 'connection_id' is set
      if @api_client.config.client_side_validation && connection_id.nil?
        fail ArgumentError, "Missing the required parameter 'connection_id' when calling ActionConnectionAPI.get_action_connection"
      end
      # resource path
      local_var_path = '/api/v2/actions/connections/{connection_id}'.sub('{connection_id}', CGI.escape(connection_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'GetActionConnectionResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :get_action_connection,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Get, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#get_action_connection\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Get an existing App Key Registration.
    #
    # @see #get_app_key_registration_with_http_info
    def get_app_key_registration(app_key_id, opts = {})
      data, _status_code, _headers = get_app_key_registration_with_http_info(app_key_id, opts)
      data
    end

    # Get an existing App Key Registration.
    #
    # Get an existing App Key Registration
    #
    # @param app_key_id [String] The ID of the app key
    # @param opts [Hash] the optional parameters
    # @return [Array<(GetAppKeyRegistrationResponse, Integer, Hash)>] GetAppKeyRegistrationResponse data, response status code and response headers
    def get_app_key_registration_with_http_info(app_key_id, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.get_app_key_registration ...'
      end
      # verify the required parameter 'app_key_id' is set
      if @api_client.config.client_side_validation && app_key_id.nil?
        fail ArgumentError, "Missing the required parameter 'app_key_id' when calling ActionConnectionAPI.get_app_key_registration"
      end
      # resource path
      local_var_path = '/api/v2/actions/app_key_registrations/{app_key_id}'.sub('{app_key_id}', CGI.escape(app_key_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'GetAppKeyRegistrationResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :get_app_key_registration,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Get, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#get_app_key_registration\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # List action connections.
    #
    # @see #list_action_connections_with_http_info
    def list_action_connections(opts = {})
      data, _status_code, _headers = list_action_connections_with_http_info(opts)
      data
    end

    # List action connections.
    #
    # List all action connections for the organization. This endpoint supports filtering by integration type, tags, environment, and search strings. Pagination is supported using page size and page number parameters.
    #
    # @param opts [Hash] the optional parameters
    # @option opts [Integer] :page_size The number of connections to return per page.
    # @option opts [Integer] :page_number The page number to return.
    # @option opts [Array<String>] :filter_integration Filter by integration type.
    # @option opts [Array<String>] :filter_tags Filter by tags.
    # @option opts [String] :filter_environment Filter by environment.
    # @option opts [Array<String>] :filter_connection_ids Filter by connection IDs.
    # @option opts [Array<String>] :filter_creator_ids Filter by creator IDs.
    # @option opts [String] :filter_search Search string to filter connections.
    # @option opts [Array<String>] :sort Sort parameters.
    # @return [Array<(ListActionConnectionsResponse, Integer, Hash)>] ListActionConnectionsResponse data, response status code and response headers
    def list_action_connections_with_http_info(opts = {})
      unstable_enabled = @api_client.config.unstable_operations["v2.list_action_connections".to_sym]
      if unstable_enabled
        @api_client.config.logger.warn format("Using unstable operation '%s'", "v2.list_action_connections")
      else
        raise DatadogAPIClient::APIError.new(message: format("Unstable operation '%s' is disabled", "v2.list_action_connections"))
      end

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.list_action_connections ...'
      end
      # resource path
      local_var_path = '/api/v2/actions/connections'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'page[size]'] = opts[:'page_size'] if !opts[:'page_size'].nil?
      query_params[:'page[number]'] = opts[:'page_number'] if !opts[:'page_number'].nil?
      query_params[:'filter[integration]'] = @api_client.build_collection_param(opts[:'filter_integration'], :multi) if !opts[:'filter_integration'].nil?
      query_params[:'filter[tags]'] = @api_client.build_collection_param(opts[:'filter_tags'], :multi) if !opts[:'filter_tags'].nil?
      query_params[:'filter[environment]'] = opts[:'filter_environment'] if !opts[:'filter_environment'].nil?
      query_params[:'filter[connection_ids]'] = @api_client.build_collection_param(opts[:'filter_connection_ids'], :multi) if !opts[:'filter_connection_ids'].nil?
      query_params[:'filter[creator_ids]'] = @api_client.build_collection_param(opts[:'filter_creator_ids'], :multi) if !opts[:'filter_creator_ids'].nil?
      query_params[:'filter[search]'] = opts[:'filter_search'] if !opts[:'filter_search'].nil?
      query_params[:'sort'] = @api_client.build_collection_param(opts[:'sort'], :multi) if !opts[:'sort'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'ListActionConnectionsResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :list_action_connections,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )
      new_options[:query_string_normalizer] = HTTParty::Request::NON_RAILS_QUERY_STRING_NORMALIZER

      data, status_code, headers = @api_client.call_api(Net::HTTP::Get, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#list_action_connections\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # List App Key Registrations.
    #
    # @see #list_app_key_registrations_with_http_info
    def list_app_key_registrations(opts = {})
      data, _status_code, _headers = list_app_key_registrations_with_http_info(opts)
      data
    end

    # List App Key Registrations.
    #
    # List App Key Registrations
    #
    # @param opts [Hash] the optional parameters
    # @option opts [Integer] :page_size The number of App Key Registrations to return per page.
    # @option opts [Integer] :page_number The page number to return.
    # @return [Array<(ListAppKeyRegistrationsResponse, Integer, Hash)>] ListAppKeyRegistrationsResponse data, response status code and response headers
    def list_app_key_registrations_with_http_info(opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.list_app_key_registrations ...'
      end
      # resource path
      local_var_path = '/api/v2/actions/app_key_registrations'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'page[size]'] = opts[:'page_size'] if !opts[:'page_size'].nil?
      query_params[:'page[number]'] = opts[:'page_number'] if !opts[:'page_number'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'ListAppKeyRegistrationsResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :list_app_key_registrations,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Get, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#list_app_key_registrations\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # List connection groups.
    #
    # @see #list_connection_groups_with_http_info
    def list_connection_groups(opts = {})
      data, _status_code, _headers = list_connection_groups_with_http_info(opts)
      data
    end

    # List connection groups.
    #
    # List all connection groups for the organization. This endpoint supports filtering by integration type, environment, connection group IDs, and search strings. Pagination is supported using page size and page number parameters.
    #
    # @param opts [Hash] the optional parameters
    # @option opts [Integer] :page_size The number of connection groups to return per page.
    # @option opts [Integer] :page_number The page number to return.
    # @option opts [Array<String>] :filter_integration Filter by integration type.
    # @option opts [String] :filter_environment Filter by environment.
    # @option opts [Array<String>] :filter_connection_group_ids Filter by connection group IDs.
    # @option opts [String] :filter_creator_id Filter by creator ID.
    # @option opts [Array<String>] :filter_creator_ids Filter by creator IDs.
    # @option opts [String] :filter_search Search string to filter connection groups.
    # @option opts [Array<String>] :sort Sort parameters.
    # @return [Array<(ListConnectionGroupsResponse, Integer, Hash)>] ListConnectionGroupsResponse data, response status code and response headers
    def list_connection_groups_with_http_info(opts = {})
      unstable_enabled = @api_client.config.unstable_operations["v2.list_connection_groups".to_sym]
      if unstable_enabled
        @api_client.config.logger.warn format("Using unstable operation '%s'", "v2.list_connection_groups")
      else
        raise DatadogAPIClient::APIError.new(message: format("Unstable operation '%s' is disabled", "v2.list_connection_groups"))
      end

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.list_connection_groups ...'
      end
      # resource path
      local_var_path = '/api/v2/actions/connections/groups'

      # query parameters
      query_params = opts[:query_params] || {}
      query_params[:'page[size]'] = opts[:'page_size'] if !opts[:'page_size'].nil?
      query_params[:'page[number]'] = opts[:'page_number'] if !opts[:'page_number'].nil?
      query_params[:'filter[integration]'] = @api_client.build_collection_param(opts[:'filter_integration'], :multi) if !opts[:'filter_integration'].nil?
      query_params[:'filter[environment]'] = opts[:'filter_environment'] if !opts[:'filter_environment'].nil?
      query_params[:'filter[connection_group_ids]'] = @api_client.build_collection_param(opts[:'filter_connection_group_ids'], :multi) if !opts[:'filter_connection_group_ids'].nil?
      query_params[:'filter[creator_id]'] = opts[:'filter_creator_id'] if !opts[:'filter_creator_id'].nil?
      query_params[:'filter[creator_ids]'] = @api_client.build_collection_param(opts[:'filter_creator_ids'], :multi) if !opts[:'filter_creator_ids'].nil?
      query_params[:'filter[search]'] = opts[:'filter_search'] if !opts[:'filter_search'].nil?
      query_params[:'sort'] = @api_client.build_collection_param(opts[:'sort'], :multi) if !opts[:'sort'].nil?

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'ListConnectionGroupsResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :list_connection_groups,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )
      new_options[:query_string_normalizer] = HTTParty::Request::NON_RAILS_QUERY_STRING_NORMALIZER

      data, status_code, headers = @api_client.call_api(Net::HTTP::Get, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#list_connection_groups\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Register a new App Key.
    #
    # @see #register_app_key_with_http_info
    def register_app_key(app_key_id, opts = {})
      data, _status_code, _headers = register_app_key_with_http_info(app_key_id, opts)
      data
    end

    # Register a new App Key.
    #
    # Register a new App Key
    #
    # @param app_key_id [String] The ID of the app key
    # @param opts [Hash] the optional parameters
    # @return [Array<(RegisterAppKeyResponse, Integer, Hash)>] RegisterAppKeyResponse data, response status code and response headers
    def register_app_key_with_http_info(app_key_id, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.register_app_key ...'
      end
      # verify the required parameter 'app_key_id' is set
      if @api_client.config.client_side_validation && app_key_id.nil?
        fail ArgumentError, "Missing the required parameter 'app_key_id' when calling ActionConnectionAPI.register_app_key"
      end
      # resource path
      local_var_path = '/api/v2/actions/app_key_registrations/{app_key_id}'.sub('{app_key_id}', CGI.escape(app_key_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type] || 'RegisterAppKeyResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :register_app_key,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Put, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#register_app_key\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Unregister an App Key.
    #
    # @see #unregister_app_key_with_http_info
    def unregister_app_key(app_key_id, opts = {})
      unregister_app_key_with_http_info(app_key_id, opts)
      nil
    end

    # Unregister an App Key.
    #
    # Unregister an App Key
    #
    # @param app_key_id [String] The ID of the app key
    # @param opts [Hash] the optional parameters
    # @return [Array<(nil, Integer, Hash)>] nil, response status code and response headers
    def unregister_app_key_with_http_info(app_key_id, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.unregister_app_key ...'
      end
      # verify the required parameter 'app_key_id' is set
      if @api_client.config.client_side_validation && app_key_id.nil?
        fail ArgumentError, "Missing the required parameter 'app_key_id' when calling ActionConnectionAPI.unregister_app_key"
      end
      # resource path
      local_var_path = '/api/v2/actions/app_key_registrations/{app_key_id}'.sub('{app_key_id}', CGI.escape(app_key_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['*/*'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body]

      # return_type
      return_type = opts[:debug_return_type]

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :unregister_app_key,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Delete, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#unregister_app_key\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Update an existing Action Connection.
    #
    # @see #update_action_connection_with_http_info
    def update_action_connection(connection_id, body, opts = {})
      data, _status_code, _headers = update_action_connection_with_http_info(connection_id, body, opts)
      data
    end

    # Update an existing Action Connection.
    #
    # Update an existing Action Connection. This API requires a [registered application key](https://docs.datadoghq.com/api/latest/action-connection/#register-a-new-app-key).
    #
    # @param connection_id [String] The ID of the action connection
    # @param body [UpdateActionConnectionRequest] Update an existing Action Connection request body
    # @param opts [Hash] the optional parameters
    # @return [Array<(UpdateActionConnectionResponse, Integer, Hash)>] UpdateActionConnectionResponse data, response status code and response headers
    def update_action_connection_with_http_info(connection_id, body, opts = {})

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.update_action_connection ...'
      end
      # verify the required parameter 'connection_id' is set
      if @api_client.config.client_side_validation && connection_id.nil?
        fail ArgumentError, "Missing the required parameter 'connection_id' when calling ActionConnectionAPI.update_action_connection"
      end
      # verify the required parameter 'body' is set
      if @api_client.config.client_side_validation && body.nil?
        fail ArgumentError, "Missing the required parameter 'body' when calling ActionConnectionAPI.update_action_connection"
      end
      # resource path
      local_var_path = '/api/v2/actions/connections/{connection_id}'.sub('{connection_id}', CGI.escape(connection_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body] || @api_client.object_to_http_body(body)

      # return_type
      return_type = opts[:debug_return_type] || 'UpdateActionConnectionResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :update_action_connection,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Patch, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#update_action_connection\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end

    # Update a connection group.
    #
    # @see #update_connection_group_with_http_info
    def update_connection_group(connection_group_id, body, opts = {})
      data, _status_code, _headers = update_connection_group_with_http_info(connection_group_id, body, opts)
      data
    end

    # Update a connection group.
    #
    # Update an existing connection group by ID. This endpoint allows updating the name, description, tag keys, integration type, connections, and policy attributes of a connection group.
    #
    # @param connection_group_id [String] The ID of the connection group.
    # @param body [UpdateConnectionGroupRequest] 
    # @param opts [Hash] the optional parameters
    # @return [Array<(UpdateConnectionGroupResponse, Integer, Hash)>] UpdateConnectionGroupResponse data, response status code and response headers
    def update_connection_group_with_http_info(connection_group_id, body, opts = {})
      unstable_enabled = @api_client.config.unstable_operations["v2.update_connection_group".to_sym]
      if unstable_enabled
        @api_client.config.logger.warn format("Using unstable operation '%s'", "v2.update_connection_group")
      else
        raise DatadogAPIClient::APIError.new(message: format("Unstable operation '%s' is disabled", "v2.update_connection_group"))
      end

      if @api_client.config.debugging
        @api_client.config.logger.debug 'Calling API: ActionConnectionAPI.update_connection_group ...'
      end
      # verify the required parameter 'connection_group_id' is set
      if @api_client.config.client_side_validation && connection_group_id.nil?
        fail ArgumentError, "Missing the required parameter 'connection_group_id' when calling ActionConnectionAPI.update_connection_group"
      end
      # verify the required parameter 'body' is set
      if @api_client.config.client_side_validation && body.nil?
        fail ArgumentError, "Missing the required parameter 'body' when calling ActionConnectionAPI.update_connection_group"
      end
      # resource path
      local_var_path = '/api/v2/actions/connections/groups/{connection_group_id}'.sub('{connection_group_id}', CGI.escape(connection_group_id.to_s).gsub('%2F', '/'))

      # query parameters
      query_params = opts[:query_params] || {}

      # header parameters
      header_params = opts[:header_params] || {}
      # HTTP header 'Accept' (if needed)
      header_params['Accept'] = @api_client.select_header_accept(['application/json'])
      # HTTP header 'Content-Type'
      header_params['Content-Type'] = @api_client.select_header_content_type(['application/json'])

      # form parameters
      form_params = opts[:form_params] || {}

      # http body (model)
      post_body = opts[:debug_body] || @api_client.object_to_http_body(body)

      # return_type
      return_type = opts[:debug_return_type] || 'UpdateConnectionGroupResponse'

      # auth_names
      auth_names = opts[:debug_auth_names] || [:apiKeyAuth, :appKeyAuth]

      new_options = opts.merge(
        :operation => :update_connection_group,
        :header_params => header_params,
        :query_params => query_params,
        :form_params => form_params,
        :body => post_body,
        :auth_names => auth_names,
        :return_type => return_type,
        :api_version => "V2"
      )

      data, status_code, headers = @api_client.call_api(Net::HTTP::Patch, local_var_path, new_options)
      if @api_client.config.debugging
        @api_client.config.logger.debug "API called: ActionConnectionAPI#update_connection_group\nData: #{data.inspect}\nStatus code: #{status_code}\nHeaders: #{headers}"
      end
      return data, status_code, headers
    end
  end
end
