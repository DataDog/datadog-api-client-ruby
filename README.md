# datadog-api-client-ruby

This repository contains a Ruby API client for the [Datadog API](https://docs.datadoghq.com/api/).
The code is generated using [openapi-generator](https://github.com/OpenAPITools/openapi-generator)
and [apigentools](https://github.com/DataDog/apigentools).

Datadog API Collection

- API version: 1.0

Collection of all Datadog Public endpoints.

  For more information, please visit [https://www.datadoghq.com/support/](https://www.datadoghq.com/support/)

*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*

## Requirements

Building and using the API client library requires:

1. Ruby 2.2+

## Installation

To install the API client library, simply execute:

```shell
gem install datadog_api_client --pre
```

## Getting Started

Please follow the [installation](#installation) instruction and execute the following Ruby code:

```ruby
require 'time'
require 'datadog_api_client'
# setup authorization
DatadogAPIClient::V1.configure do |config|
  # Configure API key authorization: apiKeyAuth
  config.api_key['apiKeyAuth'] = ENV["DD_CLIENT_API_KEY"]
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['apiKeyAuth'] = 'Bearer'

  # Configure API key authorization: appKeyAuth
  config.api_key['appKeyAuth'] = ENV["DD_CLIENT_APP_KEY"]
  # Uncomment the following line to set a prefix for the API key, e.g. 'Bearer' (defaults to nil)
  # config.api_key_prefix['appKeyAuth'] = 'Bearer'
end

api_instance = DatadogAPIClient::V1::AWSIntegrationApi.new
body = DatadogAPIClient::V1::AWSAccount.new({
        account_id: "123456789012",
        role_name: "DatadogAWSIntegrationRole",
}) # AWSAccount | AWS Request Object

begin
  # Create an AWS integration
  result = api_instance.create_aws_account(body)
  p result
rescue DatadogAPIClient::V1::ApiError => e
  puts "Error when calling AWSIntegrationApi->create_aws_account: #{e}"
end
```

### Unstable Endpoints

This client includes access to Datadog API endpoints while they are in an unstable state and may undergo breaking changes. An extra configuration step is required to enable these endpoints:

```ruby
DatadogAPIClient::V1.configure do |config|
  config.unstable_operations[:"<OperationName>"] = true
end
```

where `<OperationName>` is the name of the method used to interact with that endpoint. For example: `list_log_indexes`, or `get_logs_index`

## Documentation for API Endpoints and Models

Documentation for API endpoints and models can be found under the [`docs`](/docs) directory. 

## Documentation for Authorization

Authenticate with the API by providing your API and Application keys in the configuration:

```ruby
DatadogAPIClient::V1.configure do |config|
    config.api_key["apiKeyAuth"] = "YOUR_API_KEY"
    config.api_key["appKeyAuth"] = "YOUR_APPLICATION_KEY"
end
```

## Author

support@datadoghq.com

